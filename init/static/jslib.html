<script language="JavaScript" type="text/javascript">
function toggle_vis(name){
	_toggle_vis(name,'table-row')
}

function toggle_vis_block(name){
	_toggle_vis(name,'block')
}

function _toggle_vis(name, mode){
        cells = document.getElementsByName(name);
        for(j = 0; j < cells.length; j++) {
                if (cells[j].style.display == 'none' || cells[j].style.display == "") {
                        cells[j].style.display = mode;
                } else {
                        cells[j].style.display = 'none';
                }
        }
}

function checkEnter(e) {
  submit_form_on_enter(e, document.svcform)
}

function submit_form_on_enter(e, form) {
  var characterCode
  if(e && e.which) {
    e = e
    characterCode = e.which
  }else{
//    e = event
    characterCode = e.keyCode
  }
  if(characterCode == 13) {
    form.submit()
    return false
  }else{
    return true
  }
}

function is_enter(e) {
  var characterCode
  if(e && e.which) {
    e = e
    characterCode = e.which
  }else{
    characterCode = e.keyCode
  }
  if(characterCode == 13) {
    return true
  }else{
    return false
  }
}

function select_all(checked, aform) {
  var elem = aform.elements;
  for(var i = 0; i < elem.length; i++) {
    if (elem[i].type == 'checkbox' && elem[i].disabled == false && elem[i].name.match(/^check_/)) {
      elem[i].checked = checked
    }
  }
}

function dumpProps(obj, parent) {
   // Go through all the properties of the passed-in object
   for (var i in obj) {
      // if a parent (2nd parameter) was passed in, then use that to
      // build the message. Message includes i (the object's property name)
      // then the object's property value on a new line
      if (parent) { var msg = parent + "." + i + "\n" + obj[i]; } else { var msg = i + "\n" + obj[i]; }
      // Display the message. If the user clicks "OK", then continue. If they
      // click "CANCEL" then quit this level of recursion
      if (!confirm(msg)) { return; }
      // If this property (i) is an object, then recursively process the object
      if (typeof obj[i] == "object") {
         if (parent) { dumpProps(obj[i], parent + "." + i); } else { dumpProps(obj[i], i); }
      }
   }
}

function show_eid(id) {
  if ((navigator.appName == 'Netscape')||(navigator.appName == 'Opera')) {
    document.getElementById(id).style['display']='table-row'
  } else {
    document.getElementById(id).style['display']='block'
  }
}

function hide_eid(id) {
  document.getElementById(id).style['display']='none'
}

function toggle_filter_value_input() {
  id = document.getElementById('addfilter').value
  id = 'addfilter_opt'+id
  if (document.getElementById(id).title == '') {
    hide_eid('tr_filtervalue')
  } else {
    show_eid('tr_filtervalue')
    document.getElementById('filtervalue').focus()
  }
}

//
// table class js functions
//
var timer;
var showMode = 'table-cell';
if (document.all) showMode='block';
function check_toggle_vis(checked, col){
    cells = document.getElementsByName(col);
    mode = checked ? showMode : 'none';
    for(j = 0; j < cells.length; j++) {
        cells[j].style.display = mode;
    }
}
function show_result(url, id){
    clearTimeout(timer)
    timer=setTimeout(function validate(){
        sync_ajax(url, ['search'], id, function(){
            if ($('#'+id).html().length == 0){
                $('#'+id).hide()
            } else {
                $('#'+id).show()
                $('#'+id).css("left", $('body').width())
                keep_inside($('#'+id))
                register_pop_up(document.getElementById(id))
            }
        })
    }, 800)
}
function keep_inside(box){
    box_l = $(box).offset().left
    box_w = $(box).width()
    doc_w = $('body').width()
    if ((box_l+box_w+20)>doc_w) {
        new_l = doc_w - box_w
        $(box).css("left", (doc_w-box_w-20)+'px')
    }
}
function click_toggle_vis(name, mode){
    cells = document.getElementsByName(name);
    for(j = 0; j < cells.length; j++) {
        if (cells[j].style.display == 'none' || cells[j].style.display == "") {
            cells[j].style.display = mode;
            keep_inside(cells[j])
            register_pop_up(cells[j])
        } else {
            cells[j].style.display = 'none';
        }
    }
}
function register_pop_up(box){
    if (event){event.stopPropagation()}
    document.onclick = function(e){
        e = e || event
        var target = e.target || e.srcElement
        //var box = document.getElementById(id)
        do {
            if (box == target) {
                // click inside
                return
            }
            target = target.parentNode
        } while(target)
        // click outside
        box.style.display = 'none'
    }
}
function check_all(name, checked){
    c = document.getElementsByName(name);
    for(i = 0; i < c.length; i++) {
        if (c[i].type == 'checkbox' && c[i].disabled == false) {
            c[i].checked = checked
            c[i].value = checked
        }
    }
}
function getIdsByName(names){
    ids = []
    for (j = 0; j < names.length; j++) {
        c = document.getElementsByName(names[j]);
        for (i = 0; i < c.length; i++) {
            ids.push(c[i].id)
        }
    }
    return ids
}
function eval_js_in_ajax_response(id) {
    l = document.getElementsByName(id+"_to_eval")
    for (__i = 0; __i < l.length; __i++) {
        eval(l[__i].innerHTML)
    }
}
function sparkl(url, id) {
    chartoptions = {type: 'tristate'};
    $.getJSON(url, function(data) {
        $(document.getElementById(id)).sparkline(data, chartoptions);
    });
}
function comp_status_plot(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
	$.jqplot(id, data[1], {
	    stackSeries: true,
	    grid: {
                drawGridlines: false,
                borderWidth: 0,
                shadow: false,
                background: 'rgba(0,0,0,0)',
            },
	    seriesDefaults: {
                fill: true,
                shadow: false,
            },
	    series: [
                {
                    label: 'ok',
                    color: 'lightgreen'
                },
                {
                    label: 'errors',
                    color: 'red'
                },
                {
                    label: 'n/a',
                    color: 'gray'
                }
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
		    tickOptions: {
                        formatString:'%s',
                        showMark:false,
                        showGridline: false,
                        fontSize:'7pt',
                    },
                    ticks: data[0],
                    padMax: 0,
		}, 
		yaxis: {
		    min: 0, 
		    tickOptions:{
                        showLabel: false,
                        size: 0,
                        formatString:'%d'
                    }
		}
	    }
	});
    });
}
function avail_plot(id, data) {
    $.jqplot.config.enablePlugins = true;
	$.jqplot(id, data, {
            cursor: {
                zoom:true,
                showTooltip:true,
            },
            highlighter: {
                show: false,
            },
	    grid: {
                drawGridlines: false,
                borderWidth: 0,
                shadow: false,
                background: 'rgba(0,0,0,0)',
            },
	    seriesDefaults: {
                breakOnNull: true,
                fill: false,
            },
	    series: [
                {
                    label: 'down',
                    color: 'red'
                },
                {
                    label: 'down acked',
                    color: 'gray'
                },
                {
                    label: 'ack',
                    markerOptions:{style:'filledDiamond'},
                },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		    tickOptions: {
                        fontSize:'7pt',
		        formatString:'<center>%#m/%#d %R</center>',
                    },
		}, 
		yaxis: {
		    min: 0.8, 
		    max: 1.2, 
		    tickOptions:{
                        showLabel: false,
                        size: 0,
                        formatString:'%d'
                    }
		}
	    }
	})
}
function sync_ajax(url, inputs, id, f) {
    s = inputs
    var query=""
    for (i=0; i<s.length; i++) {
        if (i > 0) {query=query+"&"}
        query=query+encodeURIComponent(s[i])+"="+encodeURIComponent(document.getElementById(s[i]).value);
    }
    $.ajax({
         type: "POST",
         url: url,
         data: query,
         success: function(msg){
             document.getElementById(id).innerHTML=msg
             f()
         }
    })
}
function table_ajax_submit(url, id, inputs, additional_inputs, input_name, spinner) {
    s = inputs.concat(additional_inputs).concat(getIdsByName(input_name))
    var query=""
    for (i=0; i<s.length; i++) {
        if (i > 0) {query=query+"&"}
        query=query+encodeURIComponent(s[i])+"="+encodeURIComponent(document.getElementById(s[i]).value);
    }
    $.ajax({
         type: "POST",
         url: url,
         data: query,
         beforeSend: function(req){
	     document.getElementById(id).innerHTML=spinner
         },
         success: function(msg){
             document.getElementById(id).innerHTML=msg
             eval_js_in_ajax_response(id)
         }
    })
}
function toggle_extra(url, id) {
    e = document.getElementById(id)
    if (e.style['display']=='none') {
        e.style['display']='table-cell'
        sync_ajax(url, [], id, function(){eval_js_in_ajax_response(id)})
    } else {
        e.style['display']='none'
    }
}
function timepicker(e) {
    Calendar.setup({
        inputField:e.id,
        ifFormat:"%Y-%m-%d %H:%M:%S",
        showsTime: true,timeFormat: "24"
    })
}
function checked_nodes() {
    l = document.getElementsByName('nodes_ck');
    d = new Array()
    for(i=0; i<l.length; i++) {
        if (l[i].type == 'checkbox' && l[i].disabled == false && l[i].checked) {
            d.push(l[i].id.replace("nodes_ckid_",""));
        }
    }
    return d.join(",");
}
function plot_height(id, data) {
    h = Math.max(100+data.length*30, 200)+'px'
    document.getElementById(id).style['height'] = h
}
function plot_width_x(id, data) {
    h = Math.max(100+data.length*40, 200)+'px'
    document.getElementById(id).style['width'] = h
}
function plot_width(id, data) {
    w = 12
    for (i=0; i<data.length; i++) {
        w = Math.max(w, data[i].length)
    }
    w -= 12
    iw = $('#'+id).width()
    $('#'+id).width(iw+w*5+'px')
}

function stats_avg_cpu_for_nodes(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
        plot_height(id, data[0])
	$.jqplot(id, data[1], {
	    stackSeries: true,
	    grid: {
                borderWidth: 0.5,
            },
            title: {
                text: 'Average cpu utilisation',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    seriesDefaults: {
                renderer: $.jqplot.BarRenderer, 
                rendererOptions: {
                    barDirection:'horizontal',
                    barPadding: 6,
                    barMargin:15
                }, 
                shadowAngle: 135,
            },
	    series: [
                {label: 'usr (%)'},
                {label: 'nice (%)'},
                {label: 'sys (%)'},
                {label: 'iowait (%)'},
                {label: 'steal (%)'},
                {label: 'irq (%)'},
                {label: 'soft (%)'},
                {label: 'guest (%)'},
            ],
	    axes: {
		xaxis: {
		    min: 0, 
		},
		yaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    ticks: data[0],
		}, 
	    }
	});
    });
}
function stats_avg_swp_for_nodes(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
        plot_height(id, data[0])
	$.jqplot(id, data[1], {
	    stackSeries: true,
	    grid: {
                borderWidth: 0.5,
            },
            title: {
                text: 'Average swap utilisation',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    seriesDefaults: {
                renderer: $.jqplot.BarRenderer, 
                rendererOptions: {
                    barDirection:'horizontal',
                    barPadding: 6,
                    barMargin:15
                }, 
                shadowAngle: 135,
            },
	    series: [
                {label: 'free (MB)'},
                {label: 'used (MB)'},
            ],
	    axes: {
		xaxis: {
		    min: 0, 
		    tickOptions:{formatString:'%i'},
		},
		yaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    ticks: data[0],
		}, 
	    }
	});
    });
}
function stats_avg_mem_for_nodes(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
        plot_height(id, data[0])
	$.jqplot(id, data[1], {
	    stackSeries: true,
	    grid: {
                borderWidth: 0.5,
            },
            title: {
                text: 'Average memory utilisation',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    seriesDefaults: {
                renderer: $.jqplot.BarRenderer, 
                rendererOptions: {
                    barDirection:'horizontal',
                    barPadding: 6,
                    barMargin:15
                }, 
                shadowAngle: 135,
            },
	    series: [
                {label: 'free (MB)'},
                {label: 'cache (MB)'},
            ],
	    axes: {
		xaxis: {
		    min: 0, 
		    tickOptions:{formatString:'%i'},
		},
		yaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    ticks: data[0],
		}, 
	    }
	});
    });
}
function stats_avg_block_for_nodes(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
        plot_height(id+'_tps', data[0])
	$.jqplot(id+'_tps', [data[1][0], data[1][1]], {
	    stackSeries: true,
	    grid: {
                borderWidth: 0.5,
            },
            title: {
                text: 'Average io/s',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    seriesDefaults: {
                renderer: $.jqplot.BarRenderer, 
                rendererOptions: {
                    barDirection:'horizontal',
                    barPadding: 6,
                    barMargin:15
                }, 
                shadowAngle: 135,
            },
	    series: [
                {label: 'read'},
                {label: 'write'},
            ],
	    axes: {
		xaxis: {
		    min: 0, 
		    tickOptions:{formatString:'%i'},
		},
		yaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    ticks: data[0],
		}, 
	    }
	});
        plot_height(id+'_bps', data[0])
	$.jqplot(id+'_bps', [data[1][2], data[1][3]], {
	    stackSeries: true,
	    grid: {
                borderWidth: 0.5,
            },
            title: {
                text: 'Average block devices bandwidth',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    seriesDefaults: {
                renderer: $.jqplot.BarRenderer, 
                rendererOptions: {
                    barDirection:'horizontal',
                    barPadding: 6,
                    barMargin:15
                }, 
                shadowAngle: 135,
            },
	    series: [
                {label: 'read (KB/s)'},
                {label: 'write (KB/s)'},
            ],
	    axes: {
		xaxis: {
		    min: 0, 
		    tickOptions:{formatString:'%i'},
		},
		yaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    ticks: data[0],
		}, 
	    }
	});
    });
}
function stats_disk_for_svc(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
        plot_height(id, data[0])
        $('#'+id).width('600px')
	$.jqplot(id, [data[1][0]], {
	    grid: {
                borderWidth: 0.5,
            },
            title: {
                text: 'Disk size per service',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    seriesDefaults: {
                renderer: $.jqplot.BarRenderer, 
                rendererOptions: {
                    barDirection:'horizontal',
                    barPadding: 6,
                    barMargin:10
                }, 
                shadowAngle: 135,
            },
	    series: [
                {label: 'size (GB)'},
            ],
	    axes: {
		xaxis: {
		    min: 0, 
		    tickOptions:{formatString:'%i'},
		},
		yaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    ticks: data[0],
		}, 
	    }
	});
    });
}
function stats_avg_proc_for_nodes(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
        plot_height(id+'_runq_sz', data[0])
	$.jqplot(id+'_runq_sz', [data[1][0]], {
	    stackSeries: true,
	    grid: {
                borderWidth: 0.5,
            },
            title: {
                text: 'Average run queue size',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    seriesDefaults: {
                renderer: $.jqplot.BarRenderer, 
                rendererOptions: {
                    barDirection:'horizontal',
                    barPadding: 6,
                    barMargin:15
                }, 
                shadowAngle: 135,
            },
	    series: [
                {label: 'runq sz'},
            ],
	    axes: {
		xaxis: {
		    min: 0, 
		    tickOptions:{formatString:'%i'},
		},
		yaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    ticks: data[0],
		}, 
	    }
	});
        plot_height(id+'_plist_sz', data[0])
	$.jqplot(id+'_plist_sz', [data[1][1]], {
	    stackSeries: true,
	    grid: {
                borderWidth: 0.5,
            },
            title: {
                text: 'Average process list size',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    seriesDefaults: {
                renderer: $.jqplot.BarRenderer, 
                rendererOptions: {
                    barDirection:'horizontal',
                    barPadding: 6,
                    barMargin:15
                }, 
                shadowAngle: 135,
            },
	    series: [
                {label: 'plist sz'},
            ],
	    axes: {
		xaxis: {
		    min: 0, 
		    tickOptions:{formatString:'%i'},
		},
		yaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    ticks: data[0],
		}, 
	    }
	});
    });
}
function stat_day(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
	$.jqplot(id+'_err', [data[2]], {
            cursor:{zoom:true, showTooltip:false},
            legend: {
                show: true,
                location: 'n',
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                {label: 'err', color: 'red'},
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
	$.jqplot(id+'_apps', [data[11]], {
            cursor:{zoom:true, showTooltip:false},
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
            legend: {
                show: true,
                location: 'n',
            },
	    series: [
                {label: 'apps'},
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
	$.jqplot(id+'_disk', [data[5]], {
            cursor:{zoom:true, showTooltip:false},
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
            legend: {
                show: true,
                location: 'n',
            },
	    series: [
                {
                    label: 'size (GB)',
                    breakOnNull: true,
                },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
	$.jqplot(id+'_accounts', [data[12]], {
            cursor:{zoom:true, showTooltip:false},
            legend: {
                show: true,
                location: 'n',
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                {label: 'accounts'},
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
	$.jqplot(id+'_actions', [data[4],  data[3], data[2]], {
            cursor:{zoom:true, showTooltip:false},
	    stackSeries: true,
            legend: {
                renderer: $.jqplot.EnhancedLegendRenderer,
                rendererOptions:{numberRows: 1},
                show: true,
                location: 'n',
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                fill: true,
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                {
                    label: 'ok',
                    color: 'lightgreen'
                },
                {
                    label: 'warn',
                    color: 'orange'
                },
                {
                    label: 'error',
                    color: 'red'
                }
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
    });
    $.getJSON(url, function(data) {
	$.jqplot(id+'_nodes', [data[17],  data[14]], {
            cursor:{zoom:true, showTooltip:false},
	    stackSeries: true,
            legend: {
                renderer: $.jqplot.EnhancedLegendRenderer,
                rendererOptions:{numberRows: 1},
                show: true,
                location: 'n',
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                fill: true,
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                {
                    label: 'PRD nodes',
                },
                {
                    label: 'other nodes',
                },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
    });
    $.getJSON(url, function(data) {
	$.jqplot(id+'_svc_type', [data[15],  data[0]], {
            cursor:{zoom:true, showTooltip:false},
	    stackSeries: true,
            legend: {
                renderer: $.jqplot.EnhancedLegendRenderer,
                rendererOptions:{numberRows: 1},
                show: true,
                location: 'n',
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                fill: true,
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                {label: 'PRD svc'},
                {label: 'other svc'},
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
    });
    $.getJSON(url, function(data) {
	$.jqplot(id+'_svc_cluster', [data[16],  data[18]], {
            cursor:{zoom:true, showTooltip:false},
	    stackSeries: true,
            legend: {
                renderer: $.jqplot.EnhancedLegendRenderer,
                rendererOptions:{numberRows: 1},
                show: true,
                location: 'n',
            },
	    seriesDefaults: {
                breakOnNull: true,
                fill: true,
            },
	    series: [
                {label: 'clustered svc'},
                {label: 'not clustered svc'},
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
    });
    $.getJSON(url, function(data) {
	$.jqplot(id+'_svc_drp', [data[13],  data[19]], {
            cursor:{zoom:true, showTooltip:false},
	    stackSeries: true,
            legend: {
                renderer: $.jqplot.EnhancedLegendRenderer,
                rendererOptions:{numberRows: 1},
                show: true,
                location: 'n',
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                fill: true,
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                {
                    label: 'svc with drp',
                },
                {
                    label: 'svc without drp',
                },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
    });
}
function stats_cpu(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
	$.jqplot(id, data, {
            cursor:{zoom:true, showTooltip:true},
	    stackSeries: true,
            title: {
                text: 'cpu usage',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                fill: true,
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                { label: 'usr' },
                { label: 'nice' },
                { label: 'sys' },
                { label: 'iowait' },
                { label: 'steal' },
                { label: 'irq' },
                { label: 'soft' },
                { label: 'guest' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		    tickOptions:{formatString:'<center>%F<br>%R</center>'},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
    });
}
function stats_proc(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
	$.jqplot(id+'_runq_sz', [data[0]], {
            cursor:{zoom:true, showTooltip:true},
            title: {
                text: 'run queue size',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                { label: 'runq_sz' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		    tickOptions:{formatString:'<center>%F<br>%R</center>'},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
	$.jqplot(id+'_plist_sz', [data[1]], {
            cursor:{zoom:true, showTooltip:true},
            title: {
                text: 'process list size',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                { label: 'plist_sz' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		    tickOptions:{formatString:'<center>%F<br>%R</center>'},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
	$.jqplot(id+'_loadavg', [data[2],data[3],data[4]], {
            cursor:{zoom:true, showTooltip:true},
            title: {
                text: 'load average',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                fill: false,
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                { label: 'loadavg 1\'' },
                { label: 'loadavg 5\'' },
                { label: 'loadavg 15\'' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		    tickOptions:{formatString:'<center>%F<br>%R</center>'},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
    });
}
function stats_mem(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
	$.jqplot(id+'_u', [data[1], data[3], data[4], data[7], data[0]], {
            cursor:{zoom:true, showTooltip:true},
	    stackSeries: true,
            title: {
                text: 'memory usage',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                fill: true,
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                { label: 'used' },
                { label: 'used, buffer' },
                { label: 'used, cache' },
                { label: 'used, sys' },
                { label: 'free' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		    tickOptions:{formatString:'<center>%F<br>%R</center>'},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
	$.jqplot(id+'_pct', [data[2],data[6]], {
            cursor:{zoom:true, showTooltip:true},
            title: {
                text: 'memory usage percent',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                fill: false,
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                { label: 'used/mem %' },
                { label: 'promised/(mem+swap) %' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		    tickOptions:{formatString:'<center>%F<br>%R</center>'},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
    });
}
function stats_swap(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
	$.jqplot(id+'_u', [data[1], data[3], data[0]], {
            cursor:{zoom:true, showTooltip:true},
	    stackSeries: true,
            title: {
                text: 'swap usage',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                fill: true,
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                { label: 'used' },
                { label: 'used, cached' },
                { label: 'free' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		    tickOptions:{formatString:'<center>%F<br>%R</center>'},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
	$.jqplot(id+'_pct', [data[2],data[4]], {
            cursor:{zoom:true, showTooltip:true},
            title: {
                text: 'swap usage percent',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                fill: false,
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                { label: 'used/total %' },
                { label: 'cached/used' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		    tickOptions:{formatString:'<center>%F<br>%R</center>'},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
    });
}
function stats_block(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
	$.jqplot(id+'_tps', [data[0],data[1]], {
            cursor:{zoom:true, showTooltip:true},
            title: {
                text: 'block device transactions',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                fill: false,
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                { label: 'read io/s' },
                { label: 'write io/s' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		    tickOptions:{formatString:'<center>%F<br>%R</center>'},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
	$.jqplot(id+'_bps', [data[2],data[3]], {
            cursor:{zoom:true, showTooltip:true},
            title: {
                text: 'block device bandwidth',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                fill: false,
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                { label: 'read KB/s' },
                { label: 'write KB/s' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		    tickOptions:{formatString:'<center>%F<br>%R</center>'},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
    });
}
function stats_trend_mem(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
	$.jqplot(id, [data], {
            cursor:{zoom:true, showTooltip:true},
            title: {
                text: 'memory usage trend<br>high/low/average',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                renderer: $.jqplot.OHLCRenderer, 
                fill: false,
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                { label: 'mem usage KB' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
		    tickOptions: {formatString:'%s'},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
    });
}
function stats_trend_cpu(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
	$.jqplot(id, [data], {
            cursor:{zoom:true, showTooltip:true},
            title: {
                text: 'cpu usage trend<br>high/low/average',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                renderer: $.jqplot.OHLCRenderer, 
                fill: false,
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: [
                { label: 'cpu usage %' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
		    tickOptions: {formatString:'%s'},
		}, 
		yaxis: {
		    min: 0,
		    max: 100,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
    });
}
function stats_blockdev(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
        plot_width_x(id+'_tps', data[0])
	$.jqplot(id+'_tps', [data[1]], {
            cursor:{zoom:true, showTooltip:true},
            title: {
                text: 'block device transactions<br>high/low/average',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                renderer: $.jqplot.OHLCRenderer, 
            },
	    series: [
                { label: 'io/s' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    tickRenderer: $.jqplot.CanvasAxisTickRenderer,
                    tickOptions: {formatString:'%s', angle: -70},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
        plot_width_x(id+'_avgrq_sz', data[0])
	$.jqplot(id+'_avgrq_sz', [data[2]], {
            cursor:{zoom:true, showTooltip:true},
            title: {
                text: 'block device request size<br>high/low/average',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                renderer: $.jqplot.OHLCRenderer, 
            },
	    series: [
                { label: 'rq sz (sectors)' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    tickRenderer: $.jqplot.CanvasAxisTickRenderer,
                    tickOptions: {formatString:'%s', angle: -70},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
        plot_width_x(id+'_await', data[0])
	$.jqplot(id+'_await', [data[3]], {
            cursor:{zoom:true, showTooltip:true},
            title: {
                text: 'block device wait time<br>high/low/average',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                renderer: $.jqplot.OHLCRenderer, 
            },
	    series: [
                { label: 'wait (msec)' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    tickRenderer: $.jqplot.CanvasAxisTickRenderer,
                    tickOptions: {formatString:'%s', angle: -70},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
        plot_width_x(id+'_svctm', data[0])
	$.jqplot(id+'_svctm', [data[4]], {
            cursor:{zoom:true, showTooltip:true},
            title: {
                text: 'block device service time<br>high/low/average',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                renderer: $.jqplot.OHLCRenderer, 
            },
	    series: [
                { label: 'svc time (msec)' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    tickRenderer: $.jqplot.CanvasAxisTickRenderer,
                    tickOptions: {formatString:'%s', angle: -70},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
        plot_width_x(id+'_pct_util', data[0])
	$.jqplot(id+'_pct_util', [data[5]], {
            cursor:{zoom:true, showTooltip:true},
            title: {
                text: 'block device utilisation<br>high/low/average',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                renderer: $.jqplot.OHLCRenderer, 
            },
	    series: [
                { label: 'util (%)' },
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    tickRenderer: $.jqplot.CanvasAxisTickRenderer,
                    tickOptions: {formatString:'%s', angle: -70},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
        plot_width_x(id+'_secps', data[0])
	$.jqplot(id+'_secps', data[6], {
	    stackSeries: false,
	    grid: {
                borderWidth: 0.5,
            },
            title: {
                text: 'Block device bandwidth',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    seriesDefaults: {
                renderer: $.jqplot.BarRenderer, 
                shadowAngle: 135,
            },
	    series: [
                {label: 'read (sec/s)'},
                {label: 'write (sec/s)'},
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    tickRenderer: $.jqplot.CanvasAxisTickRenderer,
                    tickOptions: {formatString:'%s', angle: -70},
                    ticks: data[0],
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
    });
}
function stats_netdev_err(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
        plot_width_x(id, data[0])
	$.jqplot(id, data[1], {
	    stackSeries: false,
	    grid: {
                borderWidth: 0.5,
            },
            title: {
                text: 'Net device errors',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    seriesDefaults: {
                renderer: $.jqplot.BarRenderer, 
                shadowAngle: 135,
            },
	    series: [
                {label: 'rx err/s'},
                {label: 'tx err/s'},
                {label: 'collision/s'},
                {label: 'rx drop/s'},
                {label: 'tx drop/s'},
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    tickRenderer: $.jqplot.CanvasAxisTickRenderer,
                    tickOptions: {formatString:'%s', angle: -70},
                    ticks: data[0],
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
    });
}
function stats_netdev(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
        plot_width_x(id+'_kBps', data[0])
	$.jqplot(id+'_kBps', data[1], {
	    stackSeries: false,
	    grid: {
                borderWidth: 0.5,
            },
            title: {
                text: 'Net device bandwidth',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    seriesDefaults: {
                renderer: $.jqplot.BarRenderer, 
                shadowAngle: 135,
            },
	    series: [
                {label: 'avg rcv (kB/s)'},
                {label: 'avg send (kB/s)'},
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    tickRenderer: $.jqplot.CanvasAxisTickRenderer,
                    tickOptions: {formatString:'%s', angle: -70},
                    ticks: data[0],
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
        plot_width_x(id+'_pckps', data[0])
	$.jqplot(id+'_pckps', data[2], {
	    stackSeries: false,
	    grid: {
                borderWidth: 0.5,
            },
            title: {
                text: 'Net device packet rate',
            },
            legend: {
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    seriesDefaults: {
                renderer: $.jqplot.BarRenderer, 
                shadowAngle: 135,
            },
	    series: [
                {label: 'avg rcv (pck/s)'},
                {label: 'avg send (pck/s)'},
            ],
	    axes: {
		xaxis: {
		    renderer: $.jqplot.CategoryAxisRenderer, 
                    tickRenderer: $.jqplot.CanvasAxisTickRenderer,
                    tickOptions: {formatString:'%s', angle: -70},
                    ticks: data[0],
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
    });
}
function stats_fs(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
        labels = new Array()
        for (i=0;i<data[0].length;i++){
            labels.push({'label': data[0][i]+'<br>'+parseInt(data[1][i]/1024)+' MB'})
        }
        try {
	$.jqplot(id+'_u', data[2], {
            cursor:{zoom:true, showTooltip:true},
            title: {
                text: 'fs usage %',
            },
            legend: {
                renderer: $.jqplot.EnhancedLegendRenderer,
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2,
            },
	    series: labels,
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		    tickOptions:{formatString:'<center>%F<br>%R</center>'},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
  	});
        } finally {
            plot_width(id+'_u', data[0])
        }
    });
}
function stat_os(url, id) {
    $.jqplot.config.enablePlugins = true;
    $.getJSON(url, function(data) {
        labels = new Array()
        for (i=0;i<data[0].length;i++){
            labels.push({'label': data[0][i]})
        }
        if (id == 'stat_os_name') {
             title = ''
        } else {
             title = id.replace('stat_os_','')
        }
        try {
	$.jqplot(id, data[1], {
            cursor:{zoom:true, showTooltip:true},
	    stackSeries: true,
            title: {
                text: title,
            },
            legend: {
                renderer: $.jqplot.EnhancedLegendRenderer,
                show: true,
                location: 'e',
                placement: "outside",
            },
            gridPadding: {
                right:90,
            },
	    grid: {
                borderWidth: 0.5,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    seriesDefaults: {
                fill: true,
                shadowAngle: 135,
                shadowOffset: 1.0,
                shadowWidth: 2
            },
	    series: labels,
	    axes: {
		xaxis: {
		    renderer: $.jqplot.DateAxisRenderer, 
		    tickOptions:{formatString:'%F'},
		}, 
		yaxis: {
		    min: 0,
		    tickOptions:{formatString:'%i'},
		}, 
	    }
	});
        } finally {
            plot_width(id, data[0])
        }
    });
}
function ackpanel(show, s){
    elt = document.getElementById("ackpanel")
    if (show){
        elt.style.posLeft = event.pageX+5
        elt.style.posTop = event.pageY+5
        show_eid("ackpanel")
    } else {
        hide_eid("ackpanel")
    }
    elt.innerHTML = s
}
function refresh_action(url, id){
    spintimer=setTimeout(function validate(){ajax(url, [], 'spin_span_'+id)}, 3000);
}
</script>
